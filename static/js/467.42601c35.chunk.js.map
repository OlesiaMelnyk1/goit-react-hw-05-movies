{"version":3,"file":"static/js/467.42601c35.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.js","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.js","pages/Movies.js","service/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesList_movieList__8BnEE\",\"listImg\":\"MoviesList_listImg__9Gh2D\",\"movieListTitle\":\"MoviesList_movieListTitle__DH1EE\",\"movieListLink\":\"MoviesList_movieListLink__uHraS\"};","import { Link, useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport css from './MoviesList.module.css';\nimport poster from '../images/cinemaPoster.jpg';\n\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul className={css.movieList}>\n      {movies.map(movie => {\n        return (\n          <li key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.movieListLink}\n            >\n              <img\n                src={\n                  movie.poster_path\n                    ? `${IMG_URL + movie.poster_path}`\n                    : `${poster}`\n                }\n                alt={movie.title}\n                className={css.listImg}\n              />\n\n              <div className={css.movieListTitle}>{movie.title}</div>\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.array.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Searchbar_searchForm__Bt5yh\",\"searchInput\":\"Searchbar_searchInput__+BnhG\",\"searchButton\":\"Searchbar_searchButton__8lE-T\"};","import { useState } from 'react';\nimport { PropTypes } from 'prop-types';\nimport css from './Searchbar.module.css';\n\nexport const MovieSearch = ({ onSubmit }) => {\n  const [query, setQuery] = useState([]);\n\n  const handleInputChange = e => {\n    const { value } = e.target;\n    setQuery(value);\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      alert('Please, enter a search word!');\n      return;\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={css.searchForm} onSubmit={handleFormSubmit}>\n      <input\n        className={css.searchInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movie\"\n        name=\"query\"\n        value={query}\n        onChange={handleInputChange}\n      />\n      <button className={css.searchButton} type=\"submit\"></button>\n    </form>\n  );\n};\n\nMovieSearch.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieByQuery } from 'service/api';\nimport { MovieSearch } from 'components/Searchbar/Searchbar';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { Loader } from 'components/Loader/Loader';\n\nfunction MoviesPage() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (!query) return;\n    const getMovieByQuery = async () => {\n      try {\n        setIsLoading(true);\n        const { results } = await fetchMovieByQuery(query);\n        setMovies(results);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovieByQuery();\n  }, [searchParams]);\n\n  const handleSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <section>\n      <MovieSearch onSubmit={handleSubmit} />\n      {isLoading && <Loader />}\n      {error && <p>Sorry, an error occurred! Please try again later!</p>}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n    </section>\n  );\n}\n\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '5d916df58dcec69f374b2e5893a8bbbf';\n\nexport const fetchTrendingMovies = async () => {\n  const data = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return data;\n};\n\nexport const fetchMovieByQuery = async query => {\n  const { data } = await axios.get(\n    `/search/movie?query=${query}&api_key=${API_KEY}`\n  );\n  return data;\n};\n\nexport const fetchMovieDetails = async id => {\n  const { data } = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n  return data;\n};\n\nexport const fetchMovieActors = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n  return data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const { data } = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n  return data;\n};\n"],"names":["MoviesList","movies","location","useLocation","className","css","map","movie","to","id","state","from","src","poster_path","poster","alt","title","MovieSearch","onSubmit","useState","query","setQuery","e","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","name","value","onChange","target","setMovies","useSearchParams","searchParams","setSearchParams","isLoading","setIsLoading","error","setError","useEffect","get","getMovieByQuery","fetchMovieByQuery","results","message","Loader","length","axios","API_KEY","fetchTrendingMovies","data","fetchMovieDetails","fetchMovieActors","fetchMovieReviews"],"sourceRoot":""}